<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">流程设计</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="高效协同，赋能员工新体验 · 帮助企业集成所有业务流程，将实时数据转化为行动，并提高员工的工作效率。"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="## 如何设计流程"><meta data-react-helmet="true" property="og:description" content="## 如何设计流程"><meta data-react-helmet="true" property="og:url" content="https://www.steedos.com//docs/workflow/help/admin_flow">

<link data-react-helmet="true" rel="shortcut icon" href="/img/icon_blue.png">


<link rel="stylesheet" href="/styles.d0025817.css">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/icon_blue.png" alt="华炎"><strong>华炎</strong></a><a class="navbar__item navbar__link" href="/docs/workflow/index">业务审批</a><a class="navbar__item navbar__link" href="/docs/platform/index">业务数据</a><a class="navbar__item navbar__link" href="/docs/developer/index">开发文档</a><a class="navbar__item navbar__link" href="/blog">动态</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://messenger.steedos.cn/">社区</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="#url">客户登录</a><ul class="dropdown__menu"><li><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://cn.steedos.com">中国区域</a></li><li><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://us.steedos.com">美国区域</a></li></ul></div><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/icon_blue.png" alt="华炎"><strong>华炎</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/index">业务审批</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/platform/index">业务数据</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/developer/index">开发文档</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">动态</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://messenger.steedos.cn/">社区</a></li><li class="menu__list-item"><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="#url">客户登录</a><ul class="dropdown__menu"><li><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://cn.steedos.com">中国区域</a></li><li><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://us.steedos.com">美国区域</a></li></ul></div></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">审批王</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/index">特色</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">快速试用审批王</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/guide">注册试用</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/mp4">培训视频</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/features">审批王特色功能</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/faq">常见问题</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">如何使用审批王</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/instance_download">下载审批王</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/guide_sign">主页面</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/instance_add">如何填单</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/instance_approve">如何审批</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/instance_carboncopy">如何传阅</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/instance_distribute">如何分发</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/instance_forward">如何转发</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/instance_print">如何打印</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/instance_search">如何查询</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/instance_monitor">流程干预</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/instance_export">申请单导出</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">如何设置审批王</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/organization">组织机构</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/admin_positions">审批岗位</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/workflow/help/admin_form">表单设计</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/workflow/help/admin_flow">流程设计</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">流程设计</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="如何设计流程"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#如何设计流程" title="Direct link to heading">#</a>如何设计流程</h2><p>设计完表单后，管理员要设计流程的走向，即文件的审批过程及每一步相应的处理人。</p><p>在审批王中，每个审批环节我们称为“节点”，节点与节点之间用连线进行串联。一个节点之后可以只有一个节点即只有一种后续的审批情况，也可以通过连线串联多个节点，即有多种的后续审批情况。后续的审批节点即可以由上一步人员在审批时指定也可以根据设置的判断条件系统自动判断。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="流程设计"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#流程设计" title="Direct link to heading">#</a>流程设计</h3><p>以创建一个“日常费用报销”流程为例，为您演示如何创建新流程。</p><p>具体步骤如下：</p><ol><li><p>登入华炎云，进入“设置-审批-流程”，点击“流程设计器”；</p><p><img src="/assets/workflow/%E6%B5%81%E7%A8%8B%E8%AE%BE%E8%AE%A1.png" alt="附流程设计"></p></li><li><p>系统会弹出新窗口，在表单分类中选择某一类别的表单（也可直接点击“新增分类”来新建流程表单分类），再在该类别的在流程列表页中，单击选择已建立好的表单分类，如“财务
流程”，流程列表中会显示表单分类下对应的所有流程；点击右上角的新建流程，填写流程名称“日常费用报销”。</p><p>  <img src="/assets/workflow/%E6%B5%81%E7%A8%8B%E8%AE%BE%E8%AE%A1%E5%99%A8.png" alt="附流程设计器"></p></li><li><p>点击新建完成的流程，在流程界面中，选中“开始”，右侧的面板中有流程信息、画图、属性、权限三个选项。</p><p><img src="/assets/workflow/%E6%B5%81%E7%A8%8B%E4%BF%A1%E6%81%AF.png" alt="流程信息"></p><ul><li>流程信息中可填写流程名称，如将流程命名为“日常费用报销”；</li><li>设置流程权限：可设置流程的发起、查看、监控权限；</li><li>画图中有审批、会签、填写、条件四个选项，可以添加流程的审批步骤（即节点），流程新建完成后，系统会默认生成开始和结束节点。</li></ul></li><li><p>一个审批步骤对应“流程设计器”中的一个节点。可通过“画画”选中相应的节点类型拖到流程图上，然后将鼠标悬停在某个节点，点击“+”号，拖拽到另一个节点上，即可添加两个节点之间的连线。您也将鼠标放到线上点击“-”号，将连线删除。根据实际需求选择节点，用连线进行节点间的连接。
各个不同类型的节点可参考以下介绍：</p><ul><li>“审批”类型的节点，处理人必须选择核准与驳回；</li><li>“填写”类型的节点，处理人可以填写意见或直接提交申请单到下一步处理人，但不能核准或驳回；</li><li>“会签”节点允许多人同时审批，即处理人可以是2个或2个以上的人，审批时必须选择核准或驳回。而“条件”类型节点，系统将会根据设置的条件自动选择下一步。</li><li>“会签”节点的驳回不同于审批节点的驳回，不能退回到任意一个已经流转过的步骤。当所有会签节点的处理人都审批完成后，不管是否其中有人进行了驳回都将根据流程设置进入到下一步骤，由下一步骤的人员来汇总处理意见，根据意见来选择后续节点。需要注意的是“会签”节点后面不允许再紧接着另一个“会签”节点。建议二者之间增加一个类似于“秘书汇总意见”的节点，指定好具体的某个人员，来综合第一个会签节点的意见，再来选择第二个会签节点的处理人员。</li></ul></li><li><p>点击节点，右侧面板中会有流程信息、画图、属性、权限四个选项。</p><ul><li>属性：对每个节点进行细节设置，包含步骤名称、审批处理人、审批超时提醒、审批条件判断等。如本案中，依次添加了名称为总经理审批、财务部审核、报销人提交纸质报销单至财务部、发放报销款、确认收款等节点。选择审批处理人。</li><li>权限：可以单独设置各个审批节点表单字段的编辑权限，节点用户可编辑勾选字段。</li><li>“开始”步骤，默认所有字段都可以编辑（已定义了公式的字段除外）；“非开始”步骤，默认所有字段都为只读。可按实际需要设置。</li></ul></li><li><p>保存流程，关闭返回流程列表界面，启用新建的流程，完成流程的新建。</p><ul><li>流程新增并设计后，需要启用才可以让用户提交申请。</li><li>未启用的流程，用户将无法看见。</li><li>在“流程设计器”下的“表单列表”中，点击启用状态后的开关，即可启用/停用表单。</li><li>在表单列表的右侧，点击“X”按钮，可以删除表单及其下的所有流程，所以删除表单时，请谨慎操作。</li></ul></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="条件节点"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#条件节点" title="Direct link to heading">#</a>条件节点</h3><p>审批王里的条件节点的目标是智能选择审批路径。</p><p>如费用报销流程中，根据报销金额的不同，审批步骤/审批人也会有所不同，判断规则是报销金额是否大于10000，如果是的话，申请单提交给总经理审批后再交给财务经理，如果不是的话，申请单直接交给财务经理审批即可。</p><p>这里的“报销金额判断”就是一个典型的“条件”节点。条件公式为：{报销金额合计}&gt;=10000 和 {报销金额合计}&lt;10000，两个公式分别连线到“总经理审批”节点和“财务经理”审批节点。</p><p>这样，当用户提交申请单后，系统会根据本次申请的实际金额作判断，决定下一步执行“总经理审批”还是是“财务经理审批”。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="条件节点注意事项"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#条件节点注意事项" title="Direct link to heading">#</a>条件节点注意事项</h4><ul><li><p>所有的条件分支不能相互重叠。如上例，假设两个条件分支为“报销金额合计&gt;=10000”和“报销金额合计&lt;＝10000”，则重叠了金额为10000的情况，如果“报销金额合计＝10000”，则系统无法判断走分支1还是分支2。</p></li><li><p>条件分支应能涵盖所有的情况。如上例，假设两个条件分支为“报销金额合计&gt;10000”和“报销金额合计&lt;10000”，则遗漏了金额为10000的情况，如果“报销金额合计＝10000”，则系统也无法判断走分支1还是分支2。</p></li></ul><p>设置上述条件节点的具体步骤如下：</p><ul><li>添加条件步骤。拖动属性面板画图设置的的“条件”至左侧界面。</li><li>在条件节点的属性区域对条件步骤命名，这里将其命名为“报销金额合计是否大于10000”。</li><li>左侧点击提交节点右上角的“+”，添加两根连线。</li><li>编辑连线一的条件。左侧点击连线一，右侧的属性区域下，设置连线名称与连线条件。这里设置连线条件为“{报销金额合计}&gt;=10000”。具体为什么要这么设置条件，请参考“流程条件的编写规则”。</li><li>编辑另一条连线条件。设置连线条件为“{采购金额合计}&lt;10000”。 具体为什么要这么设置条件，请参考“条件节点规则”。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="流程分类"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#流程分类" title="Direct link to heading">#</a>流程分类</h3><p>管理员可以在“流程分类”中可以修改流程类别的名称和顺序，这样新建流程的弹出框中的流程类别的名称和顺序会随之变化；</p><p>  <img src="/assets/workflow/%E5%88%86%E7%B1%BB1.png" alt="分类"></p><p>在“设置”界面中，点击“审批”下的“流程分类”，来调整流程分类的显示顺序。排序号是按着从大到小的序号进行排序的，默认是空，也是最小的序号；</p><p>  <img src="/assets/workflow/%E5%88%86%E7%B1%BB2.png" alt="分类"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="流程导入导出"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#流程导入导出" title="Direct link to heading">#</a>流程导入导出</h3><p>工作区管理员可以进行流程导入导出，流程一键导入导出功能可以帮助您快捷新增流程，节省大量时间。具体操作如下：</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="导入"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#导入" title="Direct link to heading">#</a>导入</h4><ul><li>设置-&gt;审批</li><li>进入流程导入导出界面，在右上角点击“导入流程”。</li><li>在弹出的窗口中，点击“选择文件”按钮，选择您已经准备好的.json文件</li><li>进入流程设计器，在相应的分类下（如果流程有所属分类，导入时在相同的分类下；如果没有分类，导入时就在“未分类”下）找到该流程。</li><li>进入流程，确保每一步都有对应的处理人，修改之后（甚至是移动几根连线的位置）保存，然后打开流程即可。</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="导出"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#导出" title="Direct link to heading">#</a>导出</h4><ul><li>设置-&gt;审批</li><li>在流程列表点击在需要导出的流程后的“导出”按钮即可。即可导出流程.json文件。</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="流程设置"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#流程设置" title="Direct link to heading">#</a>流程设置</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="表单字段"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#表单字段" title="Direct link to heading">#</a>表单字段</h3><p>每一步的处理人对于表单内容都可以查看，但修改和填写的权限都是不同的，如发文流程，办公室编号步骤只能填写“发文编号”字段，但不能填写或修改其他字段，如此将步骤和字段编辑权限进行对应关系的设置需要管理员在后台进行操作。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="字段填写权限设置"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#字段填写权限设置" title="Direct link to heading">#</a>字段填写权限设置</h4><ul><li>“开始”步骤默认对所有字段有编辑权限。</li><li>选中流程步骤中的某个步骤，点击右侧面板中的“权限”，列出的是该申请单里的所有字段。</li><li>允许本步骤处理人编辑的字段前打勾，那么文件流转到这一步的时候，处理人可以对表单的字段进行修改。如果没有勾选的话，处理人对表单内容只能看，不能改。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="节点处理人"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#节点处理人" title="Direct link to heading">#</a>节点处理人</h3><p>流程设置时，节点处理人可选择以下几种：</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="审批时指定人员"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#审批时指定人员" title="Direct link to heading">#</a>审批时指定人员</h4><ul><li>设置时，不作其它指定。</li><li>流转时，系统默认为空；由上一步人员选择这一步的处理人员。</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="指定人员"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#指定人员" title="Direct link to heading">#</a>指定人员</h4><ul><li>设置时，指定一个或多个人员。</li><li>流转时，系统以指定的一个或多个人员为可选项；由上一步人员选择其中之一（“处理”节点/“审批”节点）或任意多个（“会签节点”）来作为这一步的处理人员。</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="指定审批岗位"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#指定审批岗位" title="Direct link to heading">#</a>指定审批岗位</h4><ul><li>设置时，指定一个审批岗位。</li><li>流转时，系统以“提交人”对应这个“审批岗位”的一个或多个人员为可选项；由上一步人员选择其中其中之一（“处理”节点/“审批”节点）或任意多个（“会签节点”）来作为这一步的处理人员。</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="申请人的上级"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#申请人的上级" title="Direct link to heading">#</a>申请人的上级</h4><ul><li>设置时，不作其它指定。</li><li>流转时，系统找到“提交人”对应的“直属上级”（仅一位）为可选项；因为只有一位，上一步人员无需选择这一步的处理人员。</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="申请人"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#申请人" title="Direct link to heading">#</a>申请人</h4><ul><li>设置时，不作其它指定。</li><li>流转时，系统找到“提交人”本人为可选项；因为只有一位，上一步人员无需选择这一步的处理人员。</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="指定部门"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#指定部门" title="Direct link to heading">#</a>指定部门</h4><ul><li>设置时，指定一个或多个部门。</li><li>流转时，系统以这个“部门”所辖的所有人员为可选项；由上一步人员选择其中其中之一（“处理”节点/“审批”节点）或任意多个（“会签节点”）来作为这一步的处理人员。</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="指定人员字段"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#指定人员字段" title="Direct link to heading">#</a>指定人员字段</h4><ul><li>设置时，指定表单中的一个字段，这个字段填写的是用户的姓名。</li><li>流转时，系统以申请单上的这个“字段”值（即某用户）为可选项；上一步人员无需选择这一步的处理人员。</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="指定部门字段"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#指定部门字段" title="Direct link to heading">#</a>指定部门字段</h4><ul><li>设置时，指定表单中的一个字段，这个字段填写的是部门名称。</li><li>流转时，系统以申请单上的这个“字段”的值即某部门所辖的所有人员为可选项；由上一步人员选择其中其中之一（“处理”节点/“审批”节点）或任意多个（“会签节点”）来作为这一步的处理人员。</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="指定人员字段相关审批岗位"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#指定人员字段相关审批岗位" title="Direct link to heading">#</a>指定人员字段相关审批岗位</h4><ul><li>设置时，指定表单中的一个字段（这个字段填写的是用户的姓名）、一个审批岗位。</li><li>流转时，系统以申请单上的这个“字段”值（即某用户）对应这个“审批岗位”的一个或多个人员为可选项；由上一步人员选择其中其中之一（“处理”节点/“审批”节点）或任意多个（“会签节点”）来作为这一步的处理人员。</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="指定部门字段相关审批岗位"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#指定部门字段相关审批岗位" title="Direct link to heading">#</a>指定部门字段相关审批岗位</h4><ul><li>设置时，指定表单中的一个字段（这个字段填写的是部门名称）、一个审批岗位。</li><li>流转时，系统以申请单上的这个“字段”值（即某部门）对应这个“审批岗位”的一个或多个人员为可选项;由上一步人员选择其中其中之一（“处理”节点/“审批”节点）或任意多个（“会签节点”）来作为这一步的处理人员。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="流程权限设置"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#流程权限设置" title="Direct link to heading">#</a>流程权限设置</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="谁能新增申请单"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#谁能新增申请单" title="Direct link to heading">#</a>谁能新增申请单</h4><p>您可以设置新建该申请单的权限。可以选择整个公司均有权限、也可以选择某个部门或者某些个人有权限提交本申请。如果没有权限的人员则在新增流程文件时就看不到此流程。</p><p>设置的方法有两种：</p><ul><li>打开流程设计器，在“开始”节点的“属性”中设置可以新建此表单的人员、部门。设置完成后只要当前用户在这个部门中或是此人员时，就可以提交这个流程申请单。</li></ul><p><img src="/assets/workflow/%E7%94%B3%E8%AF%B7%E6%9D%83%E9%99%902.png" alt="申请权限"></p><ul><li>打开流程设计器，点击右侧“流程信息”，点击“设置流程权限”。系统显示当前的权限设置情况。如需修改，点击“授权部门”、“授权用户”，勾选相应的部门、用户即可。</li></ul><p><img src="/assets/workflow/%E7%94%B3%E8%AF%B7%E6%9D%83%E9%99%90.png" alt="申请权限"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="谁能查看所有的申请单"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#谁能查看所有的申请单" title="Direct link to heading">#</a>谁能查看所有的申请单</h4><p>有些用户，虽然不一定参与申请单的审批过程，如某些业务的分管领导或总经理，但是需要随时查看某些流程的所有申请单。有时，我们将这样的权限称为“监控权限”。这个需求，可以通过如下设置来实现。</p><ul><li>打开流程设计器，点击右侧“流程信息”，点击“设置流程权限”。</li><li>系统显示当前的权限设置情况。如需修改，点击“授权部门”、“授权用户”，勾选相应的部门、用户即可。</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="谁能删除所有的申请单"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#谁能删除所有的申请单" title="Direct link to heading">#</a>谁能删除所有的申请单</h4><p>有些用户，虽然不一定参与申请单的审批过程，但是需要随时查看某些流程的所有申请单，并且需要在特定情况下，删除某些申请单。有时，我们将这样的权限称为“管理权限”。这个需求，可以通过如下设置来实现。</p><ul><li>打开流程设计器，点击右侧“流程信息”，点击“设置流程权限”。</li><li>系统显示当前的权限设置情况。如需修改，点击“授权部门”、“授权用户”，勾选相应的部门、用户即可。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="流程编号设置"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#流程编号设置" title="Direct link to heading">#</a>流程编号设置</h3><p>目前系统可以实现根据流程，根据表表头等字段实现自动生成文件编号功能。</p><p> <img src="/assets/workflow/autonumber_1.png" alt="流程编号"></p><p>具体编号设置规则如下：</p><ol><li><p>打开流程设计器，在需要自动生成编号的字段配置好的公式：auto_number({标头})。“标头”代表表单上标头字段，文件自动编号会根据不同的标头值来生成不同的文件编号。</p><p><img src="/assets/workflow/autonumber_2.png" alt="流程编号">
<img src="/assets/workflow/autonumber_3.png" alt="流程编号"></p></li><li><p>进入“设置”，选择“流程编号”。</p><p><img src="/assets/workflow/autonumber_4.png" alt="流程编号"></p><p>点击进入到编号设置规则界面后，点击“新建”来新建用户编号规则。</p><ul><li>名称：即表单标头字段的可取值。</li><li>年份：文件编号中涉及到年份需设置好编号开始年份。</li><li>起始序号：文件编号中文件的开始的编号。</li><li>序号：文件当前在系统中待编号的序号。</li><li>编号规则：需要配置好的公式会根据此规则格式来进行自动编号。</li></ul><p><img src="/assets/workflow/autonumber_5.png" alt="流程编号"></p><p>以上图为例子简要说明目前编号规则情况:</p><ul><li>[{YYYY}]：代表自动生成的年份。即取值“年份”。</li><li>{NUMBER}：代表文件需要显示的编号，即取值“序号”。</li></ul><p>编号规则：河北港口党办字[{YYYY}]{NUMBER}号，在表单上显示的标号样式为：河北港口党办字[2017]392号。</p></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="流程脚本"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#流程脚本" title="Direct link to heading">#</a>流程脚本</h4><p>管理员在流程脚本中可以对该工作区中所有的流程进行配置“打印模板”、“表单模板”、“自定义脚本”、“字段关系”的脚本，以及“流程导出”，还可将其他的流程导入到该工作区.</p><p>具体的操作流程如下：</p><ul><li>在“设置”界面，点击“审批”下的“流程”，流程列表只显示流程状态为启用的流程；</li><li>点击流程名称，就会弹出流程详情信息界面；点击“编辑”按钮即可对该流程添加流程脚本。</li></ul><p><img src="/assets/workflow/%E6%B5%81%E7%A8%8B%E8%84%9A%E6%9C%AC.png" alt="流程脚本"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="条件节点规则"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#条件节点规则" title="Direct link to heading">#</a>条件节点规则</h2><ul><li>条件中引用字段需使用字段名+{}，如：{请假天数}；</li><li>条件中使用的符号必须是半角符号；</li><li>条件中嵌套条件时，用()；</li><li>条件中可以使用公式和函数。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="条件中的判断项目"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#条件中的判断项目" title="Direct link to heading">#</a>条件中的判断项目</h3><ul><li><p>数值类型常量：直接使用数值，如：1000</p></li><li><p>字符类型常量：使用“&quot;”(注意是半角)将字符串扩起来，如：&quot;北京&quot;</p></li><li><p>表单字段变量：使用“{”和“}” (注意都是半角)将字段名扩起来，如：{请假天数}</p></li><li><p>基于提交人的系统变量：包括姓名、角色、部门等</p></li><li><p>提交人的所在部门（全路径）： {applicant.organization.fullname}</p></li><li><p>提交人的所在部门（最底层部门名）： {applicant.organization.name}</p></li><li><p>提交人的角色名： {applicant.roles}</p></li><li><p>提交人的姓名：{applicant.name}</p></li><li><p>基于姓名表单字段的系统变量：包括姓名、角色、部门等</p><ul><li>“报销人”的所在部门（全路径）： {报销人}.organization.fullname</li><li>“报销人”的所在部门（最底层部门名）： {报销人}.organization.name</li><li>“报销人”的角色名： {报销人}.roles</li><li>“报销人”的姓名： {报销人}.name</li></ul></li><li><p>基于数值字段的函数：</p><ul><li>加：{字段名1}+{字段名2}</li><li>减：{字段名1}-{字段名2}</li><li>乘：{单价}*{数量}</li><li>除：{总金额}/{数量}</li></ul></li><li><p>基于表格（子表）中的数值字段的函数：</p><ul><li>合计:sum({费用})</li><li>平均值：average({费用})</li><li>计数：count({物品})</li><li>最大值：max({费用})</li><li>最小值：min({费用})</li></ul></li><li><p>统计多选项中有几项被选中了：length({交通工具})</p></li><li><p>数值类型的判断，允许使用以下符号：</p><ul><li>等于，如：{借款金额}=1000</li><li>大于，如：{借款金额}&gt;1000</li><li>小于，如：{借款金额}&lt;1000</li><li>大于等于，如：sum({报销费用合计})&gt;=1000</li><li>小于等于，如：max({单笔费用金额})&lt;=1000</li><li>!等于，如：sum({借款金额})!=1000</li><li>不等于，如：sum({借款金额})&lt; &gt;1000</li></ul></li><li><p>字符类型的判断，允许使用以下符号/函数：</p><p>=：是，如：{项目}=&quot;北京&quot;</p><p>!=：非，如：{项目}!=&quot;北京&quot;</p><p><em>.contains()：包含,如：</em>.contains({applicant.roles},&#x27;部门经理&#x27;) 提交人是部门经理。请注意：由于一个人可能承担了多个审批岗位，所以应该用_.contains（包含）来判断，而不能用“=”。</p></li><li><p>一个条件判断如果不够，可以多个条件判断组合使用。允许组合关系包括：</p><ul><li>||：或，如：{借款金额}&lt;1000 ||{项目}=&quot;北京&quot;</li><li>&amp;&amp;： 与，如：{借款金额}&lt;1000 &amp;&amp;{项目}=&quot;北京&quot;</li><li>!:  非，如：!({借款金额}&lt;1000)</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="条件判断的实际运用"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#条件判断的实际运用" title="Direct link to heading">#</a>条件判断的实际运用</h3><ul><li><p>对数值进行判断</p><p>如请假天数大于三天需要总经理审批，小于等于三天只需要人事部审核。这类型的判断还用于金额等。</p></li><li><p>对提交人进行判断</p></li></ul><p>如提交人是Tony则由总经理直接审批，若不是则需要部门经理审批。如何取得提交人是谁，则通过公式的编写。</p><ul><li>对提交人岗位进行判断</li></ul><p>如当提交人是部门员工，则由部门经理审批；而当提交人是部门经理，则由总经理审批。条件中，首先要使用系统提供的函数来获取相关的信息。如：{applicant.roles}获取提交人的角色。</p><ul><li>组合条件进行判断</li></ul><p>运用或、与的关系进行多个条件组合判断。如是部门经理或者是办公室人员由办公室审批，而不是部门经理且不是办公室人员的由部门经理审批。</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/workflow/help/admin_form"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« 表单设计</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#如何设计流程" class="contents__link">如何设计流程</a><ul><li><a href="#流程设计" class="contents__link">流程设计</a></li><li><a href="#条件节点" class="contents__link">条件节点</a></li><li><a href="#流程分类" class="contents__link">流程分类</a></li><li><a href="#流程导入导出" class="contents__link">流程导入导出</a></li></ul></li><li><a href="#流程设置" class="contents__link">流程设置</a><ul><li><a href="#表单字段" class="contents__link">表单字段</a></li><li><a href="#节点处理人" class="contents__link">节点处理人</a></li><li><a href="#流程权限设置" class="contents__link">流程权限设置</a></li><li><a href="#流程编号设置" class="contents__link">流程编号设置</a></li></ul></li><li><a href="#条件节点规则" class="contents__link">条件节点规则</a><ul><li><a href="#条件中的判断项目" class="contents__link">条件中的判断项目</a></li><li><a href="#条件判断的实际运用" class="contents__link">条件判断的实际运用</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">华炎业务开发平台</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/developer/index">关于</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/developer/guide">快速向导</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/platform/index">我的应用</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">应用案例</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/steedos/steedos-contracts-app">合同管理</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/steedos/steedos-meeting-app">会议管理</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/steedos/steedos-records-app">档案管理</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">技术支持</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item">销售热线：400-820-1612</a></li><li class="footer__item"><a class="footer__link-item" to="https://messenger.steedos.cn/" href="https://messenger.steedos.cn/">开发人员社区</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/steedos/object-server/issues">问题提交</a></li></ul></div></div><div class="text--center">Copyright © 2020 上海华炎软件科技有限公司.</div></div></footer>
</div>

<script src="/styles.df4c119b.js"></script>

<script src="/runtime~main.ba78bbe0.js"></script>

<script src="/main.7e0c6298.js"></script>

<script src="/1.260f63ba.js"></script>

<script src="/2.56d1ab18.js"></script>

<script src="/1be78505.45bc9b0a.js"></script>

<script src="/20ac7829.53e193a6.js"></script>

<script src="/17896441.647f1133.js"></script>

<script src="/a6a952ab.5bedbd0e.js"></script>


</body>
</html>