<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>假删除 · Steedos 低代码开发平台</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;当用户在界面上删除记录时，并非物理删除，而是打上“已删除”的标记。用户在系统里查看对象记录时，不会显示这些“已删除”的记录。&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="假删除 · Steedos 低代码开发平台"/><meta property="og:type" content="website"/><meta property="og:url" content="https://steedos.github.io//"/><meta property="og:description" content="&lt;p&gt;当用户在界面上删除记录时，并非物理删除，而是打上“已删除”的标记。用户在系统里查看对象记录时，不会显示这些“已删除”的记录。&lt;/p&gt;
"/><meta property="og:image" content="https://steedos.github.io/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://steedos.github.io/img/docusaurus.png"/><link rel="shortcut icon" href="/img/icon_blue.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><img class="logo" src="/img/icon_blue.png" alt="Steedos 低代码开发平台"/><h2 class="headerTitleWithLogo">Steedos 低代码开发平台</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/en/overview" target="_self">关于</a></li><li class=""><a href="/docs/en/getting_started" target="_self">快速向导</a></li><li class=""><a href="https://github.com/steedos/creator" target="_self">Github</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">假删除</h1></header><article><div><span><p>当用户在界面上删除记录时，并非物理删除，而是打上“已删除”的标记。用户在系统里查看对象记录时，不会显示这些“已删除”的记录。</p>
<p>假删除功能需要在对象定义中进行设置。否则，执行删除操作，仍然是物理删除，无法恢复数据。</p>
<ul>
<li>定义对象时，添加开关enable_trash，并置为true</li>
</ul>
<p>用户执行“删除”操作后</p>
<ul>
<li>如果对象的enable_trash为false或没有定义，则执行物理删除，在数据库中删除本记录</li>
<li>如果对象的enable_trash为true，则执行假删除，给本记录的相关字段赋值
<ul>
<li>已删除(is_deleted)：赋值为true</li>
<li>删除日期(deleted)：赋值为当前日期</li>
<li>删除人(deleted_by)：赋值为当前操作用户</li>
</ul></li>
</ul>
<p>用户在系统里查看对象记录时，只会显示is_deleted为空的记录，而不会显示is_deleted为true的记录。</p>
<p>如果要恢复误删除的记录，可由管理员在数据库中将此记录的is_deleted置为空。</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 2019-3-20 by marchtian</em></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/icon_blue.png" alt="Steedos 低代码开发平台" width="66" height="58"/></a><div><h5>Steedos</h5><a href="/docs/en/overview">什么是“低代码”开发平台</a><a href="/docs/en/getting_started">快速向导</a><a href="https://www-steedos-com.oss-cn-beijing.aliyuncs.com/videos/creator/contracts-demo.mp4" target="_blank">视频演示</a></div><div><h5>案例</h5><a href="https://github.com/steedos/steedos-contracts-app" target="_blank">合同管理</a><a href="https://github.com/steedos/steedos-meeting-app" target="_blank">会议管理</a><a href="https://github.com/steedos/steedos-records-app" target="_blank">档案管理</a></div><div><h5>更多</h5><a href="/blog">动态</a><a href="https://github.com/steedos/object-server">GitHub</a><a href="http://stackoverflow.com/questions/tagged/steedos" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a class="github-button" href="https://github.com/steedos/object-server" data-icon="octicon-star" data-count-href="/steedos/object-server/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 上海华炎软件科技有限公司</section></footer></div></body></html>