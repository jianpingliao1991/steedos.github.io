(window.webpackJsonp=window.webpackJsonp||[]).push([[227],{320:function(t,e,n){"use strict";n.r(e),n.d(e,"frontMatter",(function(){return c})),n.d(e,"metadata",(function(){return o})),n.d(e,"rightToc",(function(){return a})),n.d(e,"default",(function(){return s}));var r=n(1),l=n(6),u=(n(0),n(341)),c={},o={id:"workflow/help/old/form_scripts",title:"form_scripts",description:"## \u8868\u5355\u811a\u672c",source:"@site/../docs/workflow/help/old/form_scripts.md",permalink:"/docs/workflow/help/old/form_scripts"},a=[{value:"\u8868\u5355\u811a\u672c",id:"\u8868\u5355\u811a\u672c",children:[]}],p={rightToc:a},i="wrapper";function s(t){var e=t.components,n=Object(l.a)(t,["components"]);return Object(u.b)(i,Object(r.a)({},p,n,{components:e,mdxType:"MDXLayout"}),Object(u.b)("h2",{id:"\u8868\u5355\u811a\u672c"},"\u8868\u5355\u811a\u672c"),Object(u.b)("p",null,"\u5982\u679c\u60a8\u719f\u6089\u811a\u672c\u7684\u7f16\u5199\uff0c\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528JavaScript\u811a\u672c\u8bed\u8a00\u5728\u8868\u5355\u4e2d\u6dfb\u52a0\u811a\u672c\u3002\u9664\u4e86\u4f7f\u7528\u6211\u4eec\u63d0\u4f9b\u7684\u516c\u5f0f\u3001\u6761\u4ef6\u7b49\u683c\u5f0f\u4e4b\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0\u811a\u672c\u6765\u5b9e\u73b0\u81ea\u5b9a\u4e49\u529f\u80fd\u3002"),Object(u.b)("p",null,"\u4f8b\u5982\uff0c\u4e3a\u4e86\u5b9e\u73b0\u5bf9\u6570\u503c\u578b\u91d1\u989d\u5b57\u6bb5\u81ea\u52a8\u8f6c\u6362\u6210\u5927\u5199\u91d1\u989d\uff0c\u53ef\u4ee5\u5728\u8868\u5355\u811a\u672c\u4e2d\u8f93\u5165\u4ee5\u4e0b\u8bed\u53e5:"),Object(u.b)("p",null,"CoreForm.custom_numToCny = function (num) {"),Object(u.b)("p",null,'if(isNaN(num))return "\u65e0\u6548\u6570\u503c\uff01";'),Object(u.b)("p",null,'var strPrefix="";'),Object(u.b)("p",null,'if(num<0)strPrefix ="(\u8d1f)";'),Object(u.b)("p",null,"num=Math.abs(num);"),Object(u.b)("p",null,'if(num>=1000000000000)return "\u65e0\u6548\u6570\u503c\uff01";'),Object(u.b)("p",null,'var strOutput = "";'),Object(u.b)("p",null,"var strUnit = '\u4edf\u4f70\u62fe\u4ebf\u4edf\u4f70\u62fe\u4e07\u4edf\u4f70\u62fe\u5143\u89d2\u5206';"),Object(u.b)("p",null,"var strCapDgt='\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396';"),Object(u.b)("p",null,'num += "00";'),Object(u.b)("p",null,"var intPos = num.indexOf('.');"),Object(u.b)("p",null,"if (intPos >= 0){"),Object(u.b)("p",null,"num = num.substring(0, intPos) + num.substr(intPos + 1, 2);"),Object(u.b)("p",null,"}"),Object(u.b)("p",null,"strUnit = strUnit.substr(strUnit.length - num.length);"),Object(u.b)("p",null,"for (var i=0; i < num.length; i++){"),Object(u.b)("p",null,"strOutput += strCapDgt.substr(num.substr(i,1),1) + strUnit.substr(i,1);"),Object(u.b)("p",null,"}"),Object(u.b)("p",null,"return strPrefix+strOutput.replace(/\u96f6\u89d2\u96f6\u5206$/, '\u6574').replace(/\u96f6","[\u4edf\u4f70\u62fe]","/g, '\u96f6').replace(/\u96f6{2,}/g, '\u96f6').replace(/\u96f6(","[\u4ebf|\u4e07]",")/g, '$1').replace(/\u96f6+\u5143/, '\u5143').replace(/\u4ebf\u96f6{0,3}\u4e07/, '\u4ebf').replace(/^\u5143/, \"\u96f6\u5143\");"),Object(u.b)("p",null,"};"),Object(u.b)("p",null,"\u5b57\u6bb5\u811a\u672c"),Object(u.b)("p",null,"CoreForm.custom_numToCny({total});"))}s.isMDXComponent=!0},341:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var r=n(0),l=n.n(r),u=l.a.createContext({}),c=function(t){var e=l.a.useContext(u),n=e;return t&&(n="function"==typeof t?t(e):Object.assign({},e,t)),n},o=function(t){var e=c(t.components);return l.a.createElement(u.Provider,{value:e},t.children)};var a="mdxType",p={inlineCode:"code",wrapper:function(t){var e=t.children;return l.a.createElement(l.a.Fragment,{},e)}},i=Object(r.forwardRef)((function(t,e){var n=t.components,r=t.mdxType,u=t.originalType,o=t.parentName,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&-1===e.indexOf(r)&&(n[r]=t[r]);return n}(t,["components","mdxType","originalType","parentName"]),i=c(n),s=r,b=i[o+"."+s]||i[s]||p[s]||u;return n?l.a.createElement(b,Object.assign({},{ref:e},a,{components:n})):l.a.createElement(b,Object.assign({},{ref:e},a))}));function s(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var u=n.length,c=new Array(u);c[0]=i;var o={};for(var p in e)hasOwnProperty.call(e,p)&&(o[p]=e[p]);o.originalType=t,o[a]="string"==typeof t?t:r,c[1]=o;for(var s=2;s<u;s++)c[s]=n[s];return l.a.createElement.apply(null,c)}return l.a.createElement.apply(null,n)}i.displayName="MDXCreateElement"}}]);